"0","# Function to pull out the fraction of query records that overlap with a knownGene feature"
"0","get_feature_frac_overlaps <- function(query, features = txdb_grlist) {"
"0","  "
"0","  # Instantiate "
"0","  final_feature_overlaps <- tibble()"
"0","  "
"0","  # Loop through types of features and annotate cis-hBTLs if they are present in that type of feature or not"
"0","  for (feature_names in names(features)) {"
"0","    current_feature_overlaps <- "
"0","      tibble(feature = feature_names,"
"0","             fraction_overlapping = query %>% join_overlap_intersect(features[[feature_names]]) %>% width() %>% sum() / query %>% width() %>% sum())"
"0","    "
"0","    final_feature_overlaps <-"
"0","      bind_rows(final_feature_overlaps, current_feature_overlaps)"
"0","    "
"0","  }"
"0","  "
"0","  final_feature_overlaps"
"0","  "
"0","}"
